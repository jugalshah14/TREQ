<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous" />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/owner.css" />
    <title>owner</title>
</head>

<body>
    <div class="full-body">
        <div class="side-nav">
            <div>
            <div class="logo">
                <img src="./photos/Group 100000353.svg" alt="" />
            </div>
            <div class="icon">
                <img src="./photos/Compiling.png" alt="" />
            </div>
            </div>
            <div class="exit-icon">
                <img src="./photos/arr011.svg" alt="" />
            </div>
        </div>
        <div class="main-content">
            <div class="rectangle">
                <div class="text">
                    <span class="main-text">Welcome to TreQ</span>
                    <span>Letâ€™s finalise some information to start your trequer
                        journey.</span>
                </div>
                <div>
                    <img src="./photos/Mask.png" alt="" />
                </div>
            </div>
            <div class="main-container">
                <div class="main-side-container">
                    <div class="top-name">
                        <span class="primary-text">Getting Started</span>
                        <img alt="" src="./photos/line.svg">
                    </div>
                    <div class="side-button">
                        <div class="card-1">
                            <div class="text">
                                <p class="main-text">Business Profile Setup</p>
                                <img alt="" src="./photos/tick.svg">
                            </div>
                        </div>
                        <div class="card-2">
                            <div class="text">
                                <p class="main-text">Owner/Director KYC Setup</p>
                                <div class="d-flex" style="align-items: center; gap: 10px;">
                                    <p class="main-text" id="per">0% </p>
                                    <span>Completed</span>
                                </div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill"></div>
                            </div>
                        </div>
                        <div class="card-3">
                            <p class="main-text">Remittance Setup</p>
                        </div>
                    </div>
                </div>
                <div class="second-container">
                    <div class="card-2">
                        <div class="padding">
                            <div class="image-text">
                                <img alt="" src="./photos/Frame2.svg">
                                <div class="text">
                                    <p class="main-text">Owner/Director PAN & Aadhaar</p>
                                    <span>Please upload your proprietor PAN</span>
                                </div>
                            </div>
                            <div class="pic-upload">
                                <div class="image-text1">
                                    <img alt="" src="./photos/Frame3.svg">
                                    <div class="text">
                                        <p class="main-text" id="file-name-text">Upload your Business PAN</p>
                                        <span>in PDF/JPG/PNG, Max Allowable Size 200KB.</span>
                                    </div>
                                </div>
                                <div class="button">
                                    <button class="primary-button">Click a Pic</button>
                                    <button id="file-upload-button">Upload</button>
                                    <input type="file" id="file-input" accept=".pdf, .jpg, .png" style="display: none">
                                </div>
                            </div>
                            <span id="errorMessage" style="color: #E06A43;"></span>
                            <div class="load">
                            <div class="loading" style="display: none"></div>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-4">
                                        <label>PAN Number*</label>
                                        <input type="text" placeholder="Enter PAN Number" value="ABCD1234F" disabled>
                                    </div>
                                    <div class="col-md-4">
                                        <label>Name on PAN*</label>
                                        <input type="text" placeholder="Enter Name On PAN" value="Apollo Tyres Pvt Ltd" disabled>
                                    </div>
                                    <div class="col-md-4">
                                        <label>Date of Birth</label>
                                        <div class="input-container">
                                            <input placeholder="Select Date of Incorporation" type="text" name="checkIn" value="" class="dob datepicker">
                                            <ion-icon name="calendar-outline" class="calendar-icon"></ion-icon>
                                        </div>
                                        <span id="errorMessage1" style="color: #E06A43;"></span>
                                    </div>
                                </div>
                                <div class="row row-main">
                                    <div class="col-md-9">
                                        <label>Owner's Aadhar Number</label>
                                        <div class="row-1">
                                        <input type="text" id="aadhar1" class="aadhar" maxlength="4" placeholder="-">
                                        <input type="text" id="aadhar2" class="aadhar" maxlength="4" placeholder="-">
                                        <input type="text" id="aadhar3" class="aadhar" maxlength="4" placeholder="-">
                                            <button id="verify-button">Verify</button>
                                        </div>
                                        <span id="errorMessage2" style="color: #E06A43;"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-bottom">
                            <div class="img-text">
                                <img alt="" src="./photos/Lock 1.svg">
                                <span>Your data is secure and protected</span>
                            </div>
                            <hr class="hr2" color="#E5E7EB" />
                            <div class="img-text">
                                <img alt="" src="./photos/Interface Validation Check Circle.svg">
                                <span>KYC compliant with RBI regulations</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
        <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="comman.js"></script>
<script>
    const inputs = document.querySelectorAll('input[type="text"]');
        inputs.forEach((input, index) => {
            input.addEventListener('input', (e) => {
                input.value = input.value.replace(/\D/g, '');

                if (input.value.length === 0) {
                    if (index > 0) {
                        inputs[index - 1].focus();
                    }
                } else if (input.value.length === 4) {
                    if (index < inputs.length - 1) {
                        inputs[index + 1].focus();
                    }
                }
            });

            input.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && input.value.length === 0) {
                    if (index > 0) {
                        inputs[index - 1].focus();
                    }
                } else if (e.key !== 'Backspace' && input.value.length === 4) {
                    if (index < inputs.length - 1) {
                        inputs[index + 1].focus();
                    }
                }
            });
        });

    $(document).ready(function () {
            $("#verify-button").click(function () {
                var dobInput = $(".dob").val();
                if (dobInput === "") {
                    $("#errorMessage1").text("Date of Birth is required");
                } else {
                    $("#errorMessage1").text("");
                }

                var aadhar1 = $("#aadhar1").val();
                var aadhar2 = $("#aadhar2").val();
                var aadhar3 = $("#aadhar3").val();
                if (aadhar1 === "" || aadhar2 === "" || aadhar3 === "") {
                    $("#errorMessage2").text("Owner's Aadhar Number is required");
                } else if (!/^\d{4}$/.test(aadhar1) || !/^\d{4}$/.test(aadhar2) || !/^\d{4}$/.test(aadhar3)) {
                    $("#errorMessage2").text("Invalid Aadhar Number format");
                } else {
                    $("#errorMessage2").text("");
                    window.location.href = "remittance.html";
                }
            });

            $("#dob-input").on('input', function () {
                $("#errorMessage1").text('');
            });

            $("#aadhar1, #aadhar2, #aadhar3").on('input', function () {
                $("#errorMessage2").text('');
            });
        });



    $(document).ready(function () {
        $("#file-upload-button").click(function () {
            $("#file-input").click();
        });

        $("#file-input").change(function () {
            const fileInput = this;
            if (fileInput.files.length > 0) {
                $(".loading").show();

                const selectedFile = fileInput.files[0];
                const maxSizeKB = 200;

                if (selectedFile.size <= maxSizeKB * 1024) {
                    const allowedTypes = [".pdf", ".jpg", ".png"];
                    const fileType = "." + selectedFile.name.split(".").pop().toLowerCase();

                    if (allowedTypes.includes(fileType)) {
                        setTimeout(function () {
                            $("#file-name-text").text(selectedFile.name);

                            $(".loading").hide();
                            $('#errorMessage').hide();
                            $('.card-body').show();
                             $('.progress-fill').css('width', '50%')
                            var percentageElement = $('#per');

                            var currentPercentage = parseInt(percentageElement.text());

                            percentageElement.text('50%');
                        }, 2000);
                    } else {
                        $('#errorMessage').text('Only PDF, JPG, or PNG files are allowed.');
                        fileInput.value = "";

                        $(".loading").hide();
                    }
                } else {
                    $('#errorMessage').text('File size exceeds the maximum allowable size (200KB).');
                    fileInput.value = "";

                    $(".loading").hide();
                }
            }
        });
    });
</script>

</html>